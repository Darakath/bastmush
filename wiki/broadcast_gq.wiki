#summary Plugin to broadcast gq info
#labels Author-Bast

=== Table of Contents ===
<wiki:toc max_depth="2" />

= Introduction =
 * Author: Bast
 * this is a plugin that broadcasts info about a gq
 * it is used for the [miniwin_gq] plugin


= Help =
 {{{
/*
[FOR PLUGIN AUTHORS ONLY]

Broadcasts when anything happens in a gquest
Broadcasts
   1 - gquest available
   2 - gquest joined
   3 - Mob list, get var.mobs and loadstring it
       mobs = { 1 = {name = 'Some name', room = 'Some room', clean = 'A name with some stuff removed', num=number},
              2 = {name = 'Another name', room = 'Another room', clean = 'Another name with some stuff removed', num=number}, }
       It will be resent when a mob is killed and will be nil when a gquest is not active        
   4 - rewards, get var.rewards and loadstring it
       rewards = { trivia = num, training = num, gold = num, practice = num, quest = num, mobqp=mobqp }
   5 - gquest over

Example
  function OnPluginBroadcast (msg, id, name, text)
    if id == "aaa77f81c5408278ccda7100" and msg == 3 then
      local pvar = GetPluginVariable(  "aaa77f81c5408278ccda7100", "mobs" )

      -- get the mobs
      loadstring( pvar )()
      gq_mobs = mobs
    end
  end
  
*/
 }}}


= Installation ==
 * Required 
  * [plugin_helper] and its dependencies
  * Nick's [http://www.gammon.com.au/forum/?id=8776 Stats_Detector.xml] Plugin in the directory <Mushclient Install Dir>\worlds\plugins\Aardwolf (included in the Aardwolf Mushclient)
 * see the [Download] Page, and copy the file into worlds\plugins\Aardwolf

= Troubleshooting =
 * run the command "bgq set tdebug true" to enable debugging
